<!DOCTYPE html>
<html>
<head>
    <title>Image drawing</title>
    <script src="https://unpkg.com/vanilla-picker@2"></script>
    <script type="text/javascript" src="pixel.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="cursor_color" width="400px" style="width:400px;">Set Color</div>

<script>
    // Create a new Picker instance and set the parent element.
    // By default, the color picker is a popup which appears when you click the parent.
    var parent = document.querySelector('#cursor_color');
    var picker = new Picker(parent);

    // You can do what you want with the chosen color using two callbacks: onChange and onDone.
    picker.onChange = function(color) {
        parent.style.background = color.rgbaString;
        // parent.innerHTML="Color : " + color.rgbaString;
    };
    picker.onDone = function(color) {
        parent.innerHTML= color._rgba; //"Color : " + color.rgbaString;
        currentColor = new COLOR(color._rgba[0], color._rgba[1], color._rgba[2]);
        console.log(JSON.stringify(color));
    };

    // onDone is similar to onChange, but only called when you click 'Ok'.
</script>
<form method="post" action="/pixel" onsubmit="return submitForm(this);">
    <input type="hidden" id="x" name="x" />
    <input type="hidden" id="y" name="y" />
    <input type="hidden" id="r" name="z" />
    <input type="hidden" id="g" name="data" />
    <input type="hidden" id="b" name="data" />
    <input type="submit" value="post request"/>
</form>
<table id="myTable" border="1"></table>
</body>
</html>